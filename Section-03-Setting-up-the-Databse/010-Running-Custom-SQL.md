## Running Custom SQL code 

- First create empty migration
- Let us create empty migration in store app

```bash
python manage.py makemigrations store --empty

```

- Then you will get the following migration file

```python
# Generated by Django 5.0.2 on 2024-02-17 14:18

from django.db import migrations


class Migration(migrations.Migration):

    dependencies = [
        ('store', '0003_product_slug'),
    ]

    operations = [
    ]
```

- Then add your custom SQL code inside as follows you can specify any type of SQL code like function, view, trigger, procedure

```python
# Generated by Django 5.0.2 on 2024-02-17 14:18

from django.db import migrations


class Migration(migrations.Migration):

    dependencies = [
        ('store', '0003_product_slug'),
    ]

    operations = [
        migrations.RunSQL("""
    INSERT INTO store_collection (title) VALUES('collection1')                   
""",
                          """
    DELETE FROM store_collection WHERE title = 'collection1'
""")
    ]
```

- _Then migrate it_
- _it will insert new data into collection model_
- _The first parameter is to insert some value to the database table_ 
- _The second paramter is to reverse the operation when make the migration unapplied_

___Remember___
- _If want to revert the migration leter then you have to give both argument_ 

- The following are valid sql code writng

```python
operations = [
migrations.RunSQL("INSERT INTO store_order (title) VALUES ('Collection1');")
migrations.RunSQL([("INSERT INTO musician (title) VALUES ('Collection2');", None)])
migrations.RunSQL([("INSERT INTO musician (title) VALUES (%s);", ['Collection3'])])
]
```